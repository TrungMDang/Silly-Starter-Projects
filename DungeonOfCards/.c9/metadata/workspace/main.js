{"changed":true,"filter":false,"title":"main.js","tooltip":"/main.js","value":"\nconst GAME_WIDTH = 800;\n\nfunction Animation(spriteSheet, startX, startY, frameWidth, frameHeight, frameDuration, frames, loop, reverse) {\n    this.spriteSheet = spriteSheet;\n    this.startX = startX;\n    this.startY = startY;\n    this.frameWidth = frameWidth;\n    this.frameDuration = frameDuration;\n    this.frameHeight = frameHeight;\n    this.frames = frames;\n    this.totalTime = frameDuration * frames;\n    this.elapsedTime = 0;\n    this.loop = loop;\n    this.reverse = reverse;\n}\n\nAnimation.prototype.drawFrame = function (tick, ctx, x, y, scaleBy) {\n    var scaleBy = scaleBy || 1;\n    this.elapsedTime += tick;\n    if (this.loop) {\n        if (this.isDone()) {\n            this.elapsedTime = 0;\n        }\n    } else if (this.isDone()) {\n        return;\n    }\n    var index = this.reverse ? this.frames - this.currentFrame() - 1 : this.currentFrame();\n    var vindex = 0;\n    if ((index + 1) * this.frameWidth + this.startX > this.spriteSheet.width) {\n        index -= Math.floor((this.spriteSheet.width - this.startX) / this.frameWidth);\n        vindex++;\n    }\n    while ((index + 1) * this.frameWidth > this.spriteSheet.width) {\n        index -= Math.floor(this.spriteSheet.width / this.frameWidth);\n        vindex++;\n    }\n\n    var locX = x;\n    var locY = y;\n    var offset = vindex === 0 ? this.startX : 0;\n    ctx.drawImage(this.spriteSheet,\n        index * this.frameWidth + offset, vindex * this.frameHeight + this.startY,  // source from sheet\n        this.frameWidth, this.frameHeight,\n        locX, locY,\n        this.frameWidth * scaleBy,\n        this.frameHeight * scaleBy);\n}\n\nAnimation.prototype.currentFrame = function () {\n    return Math.floor(this.elapsedTime / this.frameDuration);\n}\n\nAnimation.prototype.isDone = function () {\n    return (this.elapsedTime >= this.totalTime);\n}\n\n/**\n * An entity that displays the static title of the game \"A Simple Dungeon?\".\n */\nfunction Title(gameEngine, x, y) {\n\tthis.game = gameEngine;\n\tthis.top = new Animation(ASSET_MANAGER.getAsset(\"./img/title1.png\"),0 , 0, 156, 30, 1, 1, true, true);\n\tthis.bottom = new Animation(ASSET_MANAGER.getAsset(\"./img/title2.png\"),0 , 0, 169, 30, 1, 1, true, true);\n\tthis.topScale = 2;\n\tthis.botScale = 2.5;\n\tthis.x = 800 / 2 - (156 * this.topScale) / 2;\n\tthis.botX = 800 / 2 - (169 * this.botScale) / 2;\n\tthis.y = y;\n\tEntity.call(this, this.game, this.x, this.y);\n};\nTitle.prototype = new Entity();\nTitle.prototype.constructor = Title;\nTitle.prototype.update = function(ctx) {\n    if (this.game.startGame) {\n        this.removeFromWorld = true;\n    }\n\tEntity.prototype.update.call(this);\n};\nTitle.prototype.draw = function(ctx) {\n\tthis.top.drawFrame(this.game.clockTick, ctx, this.x, this.y, this.topScale);\n\tthis.bottom.drawFrame(this.game.clockTick, ctx, this.botX, this.y + 60, this.botScale);\n\tEntity.prototype.draw.call(this);\n};\n\n/**\n * An entity that displays the static button \"Press Space to Play\".\n */\nfunction StartButton(gameEngine, x, y) {\n\tthis.game = gameEngine;\n\tthis.animation = new Animation(ASSET_MANAGER.getAsset(\"./img/startButton.png\"),0 , 0, 333, 60, 1, 1, true, true);\n\tthis.x = 800 / 2 - 333 / 2;\n\tthis.y = y;\n\tthis.scale = 1;\n\tEntity.call(this, this.game, this.x, this.y);\n}\nStartButton.prototype = new Entity();\nStartButton.prototype.constructor = Title;\nStartButton.prototype.update = function(ctx) {\n    if (this.game.space) {\n        this.game.startGame = true;\n        this.removeFromWorld = true;\n    }\n\tEntity.prototype.update.call(this);\n};\nStartButton.prototype.draw = function(ctx) {\n\tthis.animation.drawFrame(this.game.clockTick, ctx, this.x, this.y, this.scale);\n\tEntity.prototype.draw.call(this);\n};\n\n/**\n * An entity that displays the static logo of the game. \n */\nfunction Logo(game, x, y) {\n    this.animation = new Animation(ASSET_MANAGER.getAsset(\"./img/logo.png\"),0 , 0, 396, 28, 1, 1, true, true);\n    this.scale = 1.5;\n\tthis.x = 800 / 2 - (396 * this.scale) / 2;\n    this.y = y;\n\tthis.count = 0;\n    Entity.call(this, game, this.x, this.y);\n}\nLogo.prototype = new Entity();\nLogo.prototype.constructor = Logo;\nLogo.prototype.update = function () {\n    this.count++;\n    //Create game title and instruction button once \n    //the count is 200 or a space key is pressed.\n\tif (this.count >= 200 || this.game.space) {\t\n\t\tvar title = new Title(this.game, 800 / 2 - 169 / 2, 100);\n\t\tthis.game.addLoadScreenEntity(title);\n\t\tvar startButton = new StartButton(this.game, 800 / 2 - 145 / 2, 400);  \n\t\tthis.game.addLoadScreenEntity(startButton);\n\t\tthis.game.loadScreenEntities[0].removeFromWorld = true;\n\t\tthis.game.space = false;\n\t    var music = document.getElementsByTagName(\"audio\")[6];\n        this.game.backgroundMusic = music;\n    }\n    Entity.prototype.update.call(this);\n}\nLogo.prototype.draw = function (ctx) {\n\tctx.save();\n    this.animation.drawFrame(this.game.clockTick, ctx, this.x, this.y, this.scale);\n\tctx.restore();\n    Entity.prototype.draw.call(this);\n}\n\n/**\n * An entity that displays \"Game Over!\" text when Link has 0 health left.\n */\nfunction GameOverText(gameEngine, x, y) {\n    this.game = gameEngine;\n    this.x = x;\n    this.y = y;\n    this.scale = 2;\n    this.animation = new Animation(ASSET_MANAGER.getAsset(\"./img/gameOver.png\"), 0, 0, 150, 20, 1, 1 , true, true);\n    Entity.call(this, gameEngine, this.x, this.y);\n};\nGameOverText.prototype = new Entity();\nGameOverText.prototype.constructor = GameOverText;\nGameOverText.prototype.update = function() {\n    var music = document.getElementsByTagName(\"audio\")[6];\n    music.muted = true;\n    Entity.prototype.update.call(this);\n\n};\nGameOverText.prototype.draw = function(ctx) {\n    this.animation.drawFrame(this.game.clockTick, ctx, this.x, this.y, this.scale);\n    Entity.prototype.draw.call(this);\n};\n\nfunction restartGame() {\n    //ASSET_MANAGER = new AssetManager();\n    //ASSET_MANAGER.downloadAll();\n    //ASSET_MANAGER.gameEngine = new GameEngine();\n    // console.log(\"Game should have been restarted\")\n    \n}\n\n\n\n\n\n// the \"main\" code begins here\n\nvar ASSET_MANAGER = new AssetManager();\n\nASSET_MANAGER.queueDownload(\"./img/link.png\");\nASSET_MANAGER.queueDownload(\"./img/monsters1.png\");\nASSET_MANAGER.queueDownload(\"./img/monsters2.png\");\nASSET_MANAGER.queueDownload(\"./img/monsters3.png\");\nASSET_MANAGER.queueDownload(\"./img/tileset.png\");\nASSET_MANAGER.queueDownload(\"./img/chest.png\");\nASSET_MANAGER.queueDownload(\"./img/HeartContainer.png\");\nASSET_MANAGER.queueDownload(\"./img/HeartContainerEmpty.png\");\nASSET_MANAGER.queueDownload(\"./img/link swing down.png\");\nASSET_MANAGER.queueDownload(\"./img/link swing up.png\");\nASSET_MANAGER.queueDownload(\"./img/link swing right.png\");\nASSET_MANAGER.queueDownload(\"./img/logo.png\");\nASSET_MANAGER.queueDownload(\"./img/title1.png\");\nASSET_MANAGER.queueDownload(\"./img/title2.png\");\nASSET_MANAGER.queueDownload(\"./img/startButton.png\");\nASSET_MANAGER.queueDownload(\"./img/gameOver.png\");\nASSET_MANAGER.queueDownload(\"./img/Stairs.png\");\n\nASSET_MANAGER.downloadAll(function () {\n    var canvas = document.getElementById(\"gameWorld\");\n    var ctx = canvas.getContext('2d');\n\n    var gameEngine = new GameEngine();\n\n    var link = new Link(gameEngine, gameEngine.dungeon.hero.x * PIXELS_PER_TILE, gameEngine.dungeon.hero.y * PIXELS_PER_TILE);\n    gameEngine.init(ctx, link);\n    //gameEngine.camera.follow(link);\n    var bg = new Logo(gameEngine, 800 / 2 - 396, 600 / 2 -  42/ 2);\n    var hearts = new HealthHearts(gameEngine);\n\n    gameEngine.gameX = gameEngine.dungeon.hero.x * PIXELS_PER_TILE;\n    gameEngine.gameY = gameEngine.dungeon.hero.y * PIXELS_PER_TILE;\n    \n    gameEngine.addLoadScreenEntity(bg);\n    gameEngine.addEntity(gameEngine.dungeon);\n\n    for (var i = 0; i < gameEngine.dungeon.loot.length; i++) {\n        //*\n        var lootVal = gameEngine.dungeon.loot[i].quality;\n        var chest = new Chest(gameEngine, gameEngine.dungeon.loot[i].x * PIXELS_PER_TILE, \n                            gameEngine.dungeon.loot[i].y * PIXELS_PER_TILE, gameEngine.dungeon.loot[i].quality);\n        gameEngine.addEntity(chest);\n        /**/\n    }\n    \n    var stairs = new Stairs(gameEngine, gameEngine.dungeon.stairs.x * PIXELS_PER_TILE, gameEngine.dungeon.stairs.y * PIXELS_PER_TILE);\n    gameEngine.addEntity(stairs);\n\n    var bossCreated = false;\n    for (var i = 0; i < gameEngine.dungeon.spawns.length; i++) {\n\n        var maxVariation;\n        if (bossCreated) maxVariation = 3;//no boss only basic enemies on the first floor\n        else maxVariation = 3;\n\n        switch (Math.floor(Math.random() * maxVariation)) {\n            case 0:\n                var slime = new Slime(gameEngine, gameEngine.dungeon.spawns[i].x * PIXELS_PER_TILE, gameEngine.dungeon.spawns[i].y * PIXELS_PER_TILE);\n                gameEngine.addEntity(slime);\n                break;\n            case 1:\n                var octo = new Octo(gameEngine, gameEngine.dungeon.spawns[i].x * PIXELS_PER_TILE, gameEngine.dungeon.spawns[i].y * PIXELS_PER_TILE);\n                gameEngine.addEntity(octo);\n                break;\n            case 2:\n                var shell = new Shell(gameEngine, gameEngine.dungeon.spawns[i].x * PIXELS_PER_TILE, gameEngine.dungeon.spawns[i].y * PIXELS_PER_TILE);\n                gameEngine.addEntity(shell);\n                break;\n            case 4:\n                var kingslime = new KingSlime(gameEngine, gameEngine.dungeon.spawns[i].x * PIXELS_PER_TILE, gameEngine.dungeon.spawns[i].y * PIXELS_PER_TILE);\n                gameEngine.addEntity(kingslime);\n                bossCreated = true;\n                break;\n            case 3:\n                var knight = new Knight(gameEngine, gameEngine.dungeon.spawns[i].x * PIXELS_PER_TILE, gameEngine.dungeon.spawns[i].y * PIXELS_PER_TILE);\n                gameEngine.addEntity(knight);\n                break;\n        }\n    }\n\n    for (var i = 0; i < gameEngine.dungeon.bosses.length; i++) {\n        var kingslime = new KingSlime(gameEngine, gameEngine.dungeon.bosses[i].x * PIXELS_PER_TILE, gameEngine.dungeon.bosses[i].y * PIXELS_PER_TILE);\n        gameEngine.addEntity(kingslime);\n    }\n    /**/\n    \n    gameEngine.addEntity(link);\n    gameEngine.link = link;\n    gameEngine.addEntity(hearts);\n\n    gameEngine.start();\n    document.getElementById(\"gameWorld\").focus();\n\n});\n\nfunction HealthHearts(game) {\n    this.game = game;\n    Entity.call(this, game, 10, 10);\n}\n\nHealthHearts.prototype.draw = function(ctx) {\n    var currentHealth = 0;\n    var drawX = 10;\n    var drawY = 10 - 15;\n    while (currentHealth < this.game.link.health.fullAmount) {\n        var type = \"./img/HeartContainerEmpty.png\"\n        if (currentHealth < this.game.link.health.amount) {\n            var type = \"./img/HeartContainer.png\"\n        }\n        if (currentHealth % 20 == 0) {\n            drawX = 10;\n            drawY += 15;\n        }\n        if (currentHealth % 2 == 0) {\n            ctx.drawImage(ASSET_MANAGER.getAsset(type), 0, 0, 33, 64, drawX, drawY, 15, 15);\n            drawX += 15;\n        } else {\n            ctx.drawImage(ASSET_MANAGER.getAsset(type),34, 0, 33, 64, drawX, drawY, 15, 15);\n            drawX +=15;\n        }\n        currentHealth++;\n    }\n    drawX = 10; \n    drawY += 15 + 22;\n    ctx.font = \"20px Arial\";\n    ctx.fillStyle = \"White\";\n    ctx.fillText(\"Fire ball: \", drawX, drawY);\n    ctx.fillRect(drawX + 80, drawY - 18, 102, 22);\n    ctx.fillStyle = \"Black\";\n    ctx.fillRect(drawX + 81, drawY - 17, 100, 20);\n    ctx.fillStyle = \"Green\";\n    ctx.fillRect(drawX + 81, drawY - 17, 100 - 100 * this.game.link.reloadTimeRemaining / this.game.link.reloadTime, 20);\n    ctx.font = \"30px Arial\";\n    ctx.fillStyle = \"White\";\n    ctx.fillText(\"Score: \".concat(this.game.score), 600, 30);\n    ctx.fillText(\"level: \".concat(this.game.level), 616, 65);\n    Entity.prototype.update.call(this);\n}\n\nHealthHearts.prototype.update = function () {\n    Entity.prototype.update.call(this);\n}\n\nfunction createLevel(gameEngine, link) {\n    gameEngine.level += 1;\n    \n    var hearts = new HealthHearts(gameEngine);\n    \n    gameEngine.gameX = gameEngine.dungeon.hero.x * PIXELS_PER_TILE;\n    gameEngine.gameY = gameEngine.dungeon.hero.y * PIXELS_PER_TILE;\n    \n    //gameEngine.addLoadScreenEntity(bg);\n    gameEngine.addEntity(gameEngine.dungeon);\n\n    for (var i = 0; i < gameEngine.dungeon.loot.length; i++) {\n        //*\n        var lootVal = gameEngine.dungeon.loot[i].quality;\n        var chest = new Chest(gameEngine, gameEngine.dungeon.loot[i].x * PIXELS_PER_TILE, \n                            gameEngine.dungeon.loot[i].y * PIXELS_PER_TILE, gameEngine.dungeon.loot[i].quality);\n        gameEngine.addEntity(chest);\n        /**/\n    }\n    \n    var stairs = new Stairs(gameEngine, gameEngine.dungeon.stairs.x * PIXELS_PER_TILE, gameEngine.dungeon.stairs.y * PIXELS_PER_TILE);\n    gameEngine.addEntity(stairs);\n\n    var bossCreated = false;\n    for (var i = 0; i < gameEngine.dungeon.spawns.length; i++) {\n\n        var maxVariation;\n        // if (bossCreated) maxVariation = 5; // use my boss function instead\n        /*else */\n        \n        if (gameEngine.level == 1) maxVariation = 3;\n        else maxVariation = 4;//Math.min(4, 3 + Math.floor(gameEngine.level / 4));//adds a new type every 4th floor until there are all the types\n        \n        switch (Math.floor(Math.random() * maxVariation)) {\n            case 0:\n                var slime = new Slime(gameEngine, gameEngine.dungeon.spawns[i].x * PIXELS_PER_TILE, gameEngine.dungeon.spawns[i].y * PIXELS_PER_TILE);\n                gameEngine.addEntity(slime);\n                break;\n            case 1:\n                var octo = new Octo(gameEngine, gameEngine.dungeon.spawns[i].x * PIXELS_PER_TILE, gameEngine.dungeon.spawns[i].y * PIXELS_PER_TILE);\n                gameEngine.addEntity(octo);\n                break;\n            case 2:\n                var shell = new Shell(gameEngine, gameEngine.dungeon.spawns[i].x * PIXELS_PER_TILE, gameEngine.dungeon.spawns[i].y * PIXELS_PER_TILE);\n                gameEngine.addEntity(shell);\n                break;\n            // case 4:\n            //     var kingslime = new KingSlime(gameEngine, gameEngine.dungeon.spawns[i].x * PIXELS_PER_TILE, gameEngine.dungeon.spawns[i].y * PIXELS_PER_TILE);\n            //     gameEngine.addEntity(kingslime);\n            //     bossCreated = true;\n            //     break;\n            case 3:\n                var knight = new Knight(gameEngine, gameEngine.dungeon.spawns[i].x * PIXELS_PER_TILE, gameEngine.dungeon.spawns[i].y * PIXELS_PER_TILE);\n                gameEngine.addEntity(knight);\n                break;\n        }\n    }\n\n    for (var i = 0; i < gameEngine.dungeon.bosses.length; i++) {\n        var kingslime = new KingSlime(gameEngine, gameEngine.dungeon.bosses[i].x * PIXELS_PER_TILE, gameEngine.dungeon.bosses[i].y * PIXELS_PER_TILE);\n        gameEngine.addEntity(kingslime);\n    }\n    /**/\n    \n    link.x = gameEngine.dungeon.hero.x * PIXELS_PER_TILE;\n    link.y = gameEngine.dungeon.hero.y * PIXELS_PER_TILE;\n   \n    \n    //gameEngine.camera = new Camera(this, link, 800, 600, 6000  + 2 * BUFFER_SPACE * PIXELS_PER_TILE, 6000 + 2 * BUFFER_SPACE * PIXELS_PER_TILE);\n    \n    gameEngine.addEntity(hearts);\n    gameEngine.addEntity(link);\n    gameEngine.link = link;\n    //gameEngine.camera.follow(gameEngine.link);\n    //gameEngine.entities.push(link);\n    var index = gameEngine.entities.indexOf(link);\n    if (index > -1) gameEngine.entities.splice(index, 1);\n    document.getElementById(\"gameWorld\").focus();\n}","undoManager":{"mark":99,"position":100,"stack":[[{"start":{"row":315,"column":46},"end":{"row":315,"column":47},"action":"insert","lines":["0"],"id":179}],[{"start":{"row":313,"column":43},"end":{"row":313,"column":44},"action":"remove","lines":["0"],"id":180},{"start":{"row":313,"column":43},"end":{"row":313,"column":44},"action":"insert","lines":["2"]}],[{"start":{"row":315,"column":41},"end":{"row":315,"column":43},"action":"remove","lines":["98"],"id":181},{"start":{"row":315,"column":41},"end":{"row":315,"column":42},"action":"insert","lines":["1"]}],[{"start":{"row":315,"column":42},"end":{"row":315,"column":43},"action":"insert","lines":["0"],"id":182}],[{"start":{"row":315,"column":43},"end":{"row":315,"column":44},"action":"insert","lines":["0"],"id":183}],[{"start":{"row":313,"column":43},"end":{"row":313,"column":44},"action":"remove","lines":["2"],"id":184},{"start":{"row":313,"column":43},"end":{"row":313,"column":44},"action":"insert","lines":["3"]}],[{"start":{"row":315,"column":43},"end":{"row":315,"column":44},"action":"remove","lines":["0"],"id":185},{"start":{"row":315,"column":43},"end":{"row":315,"column":44},"action":"insert","lines":["1"]}],[{"start":{"row":313,"column":50},"end":{"row":315,"column":50},"action":"remove","lines":["","    ctx.fillStyle = \"Black\";","    ctx.fillRect(drawX + 81, drawY - 17, 101, 20);"],"id":186},{"start":{"row":313,"column":50},"end":{"row":315,"column":50},"action":"insert","lines":["","    ctx.fillStyle = \"Black\";","    ctx.fillRect(drawX + 81, drawY - 17, 101, 20);"]}],[{"start":{"row":315,"column":50},"end":{"row":317,"column":50},"action":"insert","lines":["","    ctx.fillStyle = \"Black\";","    ctx.fillRect(drawX + 81, drawY - 17, 101, 20);"],"id":187}],[{"start":{"row":316,"column":21},"end":{"row":316,"column":26},"action":"remove","lines":["Black"],"id":188},{"start":{"row":316,"column":21},"end":{"row":316,"column":22},"action":"insert","lines":["G"]}],[{"start":{"row":316,"column":22},"end":{"row":316,"column":23},"action":"insert","lines":["r"],"id":189}],[{"start":{"row":316,"column":23},"end":{"row":316,"column":24},"action":"insert","lines":["e"],"id":190}],[{"start":{"row":316,"column":24},"end":{"row":316,"column":25},"action":"insert","lines":["e"],"id":191}],[{"start":{"row":316,"column":25},"end":{"row":316,"column":26},"action":"insert","lines":["n"],"id":192}],[{"start":{"row":317,"column":44},"end":{"row":317,"column":45},"action":"insert","lines":[" "],"id":193}],[{"start":{"row":317,"column":45},"end":{"row":317,"column":46},"action":"insert","lines":["*"],"id":194}],[{"start":{"row":317,"column":46},"end":{"row":317,"column":47},"action":"insert","lines":[" "],"id":195}],[{"start":{"row":317,"column":47},"end":{"row":317,"column":48},"action":"insert","lines":["t"],"id":196}],[{"start":{"row":317,"column":48},"end":{"row":317,"column":49},"action":"insert","lines":["h"],"id":197}],[{"start":{"row":317,"column":49},"end":{"row":317,"column":50},"action":"insert","lines":["i"],"id":198}],[{"start":{"row":317,"column":50},"end":{"row":317,"column":51},"action":"insert","lines":["s"],"id":199}],[{"start":{"row":317,"column":51},"end":{"row":317,"column":52},"action":"insert","lines":["."],"id":200}],[{"start":{"row":317,"column":52},"end":{"row":317,"column":53},"action":"insert","lines":["L"],"id":201}],[{"start":{"row":317,"column":53},"end":{"row":317,"column":54},"action":"insert","lines":["i"],"id":202}],[{"start":{"row":317,"column":54},"end":{"row":317,"column":55},"action":"insert","lines":["n"],"id":203}],[{"start":{"row":317,"column":55},"end":{"row":317,"column":56},"action":"insert","lines":["k"],"id":204}],[{"start":{"row":317,"column":56},"end":{"row":317,"column":57},"action":"insert","lines":["."],"id":205}],[{"start":{"row":317,"column":57},"end":{"row":317,"column":58},"action":"insert","lines":["f"],"id":206}],[{"start":{"row":317,"column":57},"end":{"row":317,"column":58},"action":"remove","lines":["f"],"id":207}],[{"start":{"row":317,"column":57},"end":{"row":317,"column":58},"action":"insert","lines":["r"],"id":208}],[{"start":{"row":317,"column":57},"end":{"row":317,"column":58},"action":"remove","lines":["r"],"id":209}],[{"start":{"row":317,"column":57},"end":{"row":317,"column":58},"action":"insert","lines":["r"],"id":210}],[{"start":{"row":317,"column":58},"end":{"row":317,"column":59},"action":"insert","lines":["e"],"id":211}],[{"start":{"row":317,"column":59},"end":{"row":317,"column":60},"action":"insert","lines":["l"],"id":212}],[{"start":{"row":317,"column":60},"end":{"row":317,"column":61},"action":"insert","lines":["a"],"id":213}],[{"start":{"row":317,"column":60},"end":{"row":317,"column":61},"action":"remove","lines":["a"],"id":214}],[{"start":{"row":317,"column":60},"end":{"row":317,"column":61},"action":"insert","lines":["o"],"id":215}],[{"start":{"row":317,"column":57},"end":{"row":317,"column":61},"action":"remove","lines":["relo"],"id":216},{"start":{"row":317,"column":57},"end":{"row":317,"column":76},"action":"insert","lines":["reloadTimeRemaining"]}],[{"start":{"row":317,"column":52},"end":{"row":317,"column":53},"action":"remove","lines":["L"],"id":217}],[{"start":{"row":317,"column":52},"end":{"row":317,"column":53},"action":"insert","lines":["l"],"id":218}],[{"start":{"row":317,"column":52},"end":{"row":317,"column":53},"action":"insert","lines":["g"],"id":219}],[{"start":{"row":317,"column":53},"end":{"row":317,"column":54},"action":"insert","lines":["a"],"id":220}],[{"start":{"row":317,"column":54},"end":{"row":317,"column":55},"action":"insert","lines":["m"],"id":221}],[{"start":{"row":317,"column":55},"end":{"row":317,"column":56},"action":"insert","lines":["e"],"id":222}],[{"start":{"row":317,"column":56},"end":{"row":317,"column":57},"action":"insert","lines":["."],"id":223}],[{"start":{"row":317,"column":81},"end":{"row":317,"column":82},"action":"insert","lines":[" "],"id":224}],[{"start":{"row":317,"column":82},"end":{"row":317,"column":83},"action":"insert","lines":["/"],"id":225}],[{"start":{"row":317,"column":83},"end":{"row":317,"column":84},"action":"insert","lines":[" "],"id":226}],[{"start":{"row":317,"column":84},"end":{"row":317,"column":85},"action":"insert","lines":["t"],"id":227}],[{"start":{"row":317,"column":85},"end":{"row":317,"column":86},"action":"insert","lines":["h"],"id":228}],[{"start":{"row":317,"column":86},"end":{"row":317,"column":87},"action":"insert","lines":["i"],"id":229},{"start":{"row":317,"column":87},"end":{"row":317,"column":88},"action":"insert","lines":["s"]}],[{"start":{"row":317,"column":88},"end":{"row":317,"column":89},"action":"insert","lines":["."],"id":230}],[{"start":{"row":317,"column":89},"end":{"row":317,"column":90},"action":"insert","lines":["g"],"id":231}],[{"start":{"row":317,"column":90},"end":{"row":317,"column":91},"action":"insert","lines":["a"],"id":232}],[{"start":{"row":317,"column":91},"end":{"row":317,"column":92},"action":"insert","lines":["e"],"id":233},{"start":{"row":317,"column":92},"end":{"row":317,"column":93},"action":"insert","lines":["m"]}],[{"start":{"row":317,"column":93},"end":{"row":317,"column":94},"action":"insert","lines":["."],"id":234}],[{"start":{"row":317,"column":93},"end":{"row":317,"column":94},"action":"remove","lines":["."],"id":235}],[{"start":{"row":317,"column":92},"end":{"row":317,"column":93},"action":"remove","lines":["m"],"id":236}],[{"start":{"row":317,"column":91},"end":{"row":317,"column":92},"action":"remove","lines":["e"],"id":237}],[{"start":{"row":317,"column":91},"end":{"row":317,"column":92},"action":"insert","lines":["m"],"id":238}],[{"start":{"row":317,"column":92},"end":{"row":317,"column":93},"action":"insert","lines":["e"],"id":239}],[{"start":{"row":317,"column":93},"end":{"row":317,"column":94},"action":"insert","lines":["."],"id":240}],[{"start":{"row":317,"column":94},"end":{"row":317,"column":95},"action":"insert","lines":["l"],"id":241}],[{"start":{"row":317,"column":95},"end":{"row":317,"column":96},"action":"insert","lines":["i"],"id":242}],[{"start":{"row":317,"column":96},"end":{"row":317,"column":97},"action":"insert","lines":["n"],"id":243}],[{"start":{"row":317,"column":97},"end":{"row":317,"column":98},"action":"insert","lines":["k"],"id":244}],[{"start":{"row":317,"column":98},"end":{"row":317,"column":99},"action":"insert","lines":["."],"id":245}],[{"start":{"row":317,"column":99},"end":{"row":317,"column":100},"action":"insert","lines":["r"],"id":246}],[{"start":{"row":317,"column":100},"end":{"row":317,"column":101},"action":"insert","lines":["e"],"id":247}],[{"start":{"row":317,"column":101},"end":{"row":317,"column":102},"action":"insert","lines":["l"],"id":248}],[{"start":{"row":317,"column":102},"end":{"row":317,"column":103},"action":"insert","lines":["a"],"id":249}],[{"start":{"row":317,"column":103},"end":{"row":317,"column":104},"action":"insert","lines":["o"],"id":250}],[{"start":{"row":317,"column":104},"end":{"row":317,"column":105},"action":"insert","lines":["d"],"id":251}],[{"start":{"row":317,"column":104},"end":{"row":317,"column":105},"action":"remove","lines":["d"],"id":252}],[{"start":{"row":317,"column":103},"end":{"row":317,"column":104},"action":"remove","lines":["o"],"id":253}],[{"start":{"row":317,"column":102},"end":{"row":317,"column":103},"action":"remove","lines":["a"],"id":254}],[{"start":{"row":317,"column":102},"end":{"row":317,"column":103},"action":"insert","lines":["o"],"id":255}],[{"start":{"row":317,"column":103},"end":{"row":317,"column":104},"action":"insert","lines":["a"],"id":256}],[{"start":{"row":317,"column":104},"end":{"row":317,"column":105},"action":"insert","lines":["d"],"id":257}],[{"start":{"row":317,"column":105},"end":{"row":317,"column":106},"action":"insert","lines":["T"],"id":258}],[{"start":{"row":317,"column":106},"end":{"row":317,"column":107},"action":"insert","lines":["i"],"id":259}],[{"start":{"row":317,"column":107},"end":{"row":317,"column":108},"action":"insert","lines":["m"],"id":260}],[{"start":{"row":317,"column":108},"end":{"row":317,"column":109},"action":"insert","lines":["e"],"id":261}],[{"start":{"row":317,"column":43},"end":{"row":317,"column":44},"action":"remove","lines":["1"],"id":262},{"start":{"row":317,"column":43},"end":{"row":317,"column":44},"action":"insert","lines":["0"]}],[{"start":{"row":315,"column":43},"end":{"row":315,"column":44},"action":"remove","lines":["1"],"id":263},{"start":{"row":315,"column":43},"end":{"row":315,"column":44},"action":"insert","lines":["0"]}],[{"start":{"row":313,"column":43},"end":{"row":313,"column":44},"action":"remove","lines":["3"],"id":264},{"start":{"row":313,"column":43},"end":{"row":313,"column":44},"action":"insert","lines":["2"]}],[{"start":{"row":317,"column":109},"end":{"row":317,"column":110},"action":"insert","lines":[" "],"id":265}],[{"start":{"row":317,"column":110},"end":{"row":317,"column":111},"action":"insert","lines":["-"],"id":266}],[{"start":{"row":317,"column":111},"end":{"row":317,"column":112},"action":"insert","lines":[" "],"id":267}],[{"start":{"row":317,"column":112},"end":{"row":317,"column":113},"action":"insert","lines":["1"],"id":268}],[{"start":{"row":317,"column":113},"end":{"row":317,"column":114},"action":"insert","lines":["0"],"id":269}],[{"start":{"row":317,"column":114},"end":{"row":317,"column":115},"action":"insert","lines":["0"],"id":270}],[{"start":{"row":317,"column":110},"end":{"row":317,"column":115},"action":"remove","lines":["- 100"],"id":271}],[{"start":{"row":317,"column":109},"end":{"row":317,"column":110},"action":"remove","lines":[" "],"id":272}],[{"start":{"row":317,"column":41},"end":{"row":317,"column":42},"action":"insert","lines":["1"],"id":273}],[{"start":{"row":317,"column":42},"end":{"row":317,"column":43},"action":"insert","lines":["0"],"id":274}],[{"start":{"row":317,"column":43},"end":{"row":317,"column":44},"action":"insert","lines":["0"],"id":275}],[{"start":{"row":317,"column":44},"end":{"row":317,"column":45},"action":"insert","lines":[" "],"id":276}],[{"start":{"row":317,"column":45},"end":{"row":317,"column":46},"action":"insert","lines":["-"],"id":277}],[{"start":{"row":317,"column":46},"end":{"row":317,"column":47},"action":"insert","lines":[" "],"id":278}],[{"start":{"row":95,"column":1},"end":{"row":95,"column":2},"action":"remove","lines":[";"],"id":279}]]},"ace":{"folds":[],"scrolltop":1210,"scrollleft":0,"selection":{"start":{"row":92,"column":12},"end":{"row":92,"column":12},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":34,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1465021285000}